private ["_veh", "_obj", "_from", "_to", "_pos", "_step", "_steps", "_from_x", "_from_y", "_from_z", "_to_x", "_to_y", "_to_z", "_x", "_y", "_z", "_i", "_x_step", "_y_step", "_z_step", "_turn"];
_veh = _this select 0;
_obj = _this select 1;
_from = _this select 2;
_to = _this select 3;
_step = _this select 4;
_turn = if (count _this > 5) then {_this select 5} else {false};

_from_x = _from select 0;
_from_y = _from select 1;
_from_z = _from select 2;
if (IL_DevMod) then
{
	Player globalChat Format ["IgiLoad ""%1"". IL_Move_Attach _from_x =""%2"", _from_y =""%3"", _from_z =""%4""", IL_Script_Inst, _from_x, _from_y, _from_z];
};
_to_x = _to select 0;
_to_y = _to select 1;
_to_z = _to select 2;
if (IL_DevMod) then
{
	Player globalChat Format ["IgiLoad ""%1"". IL_Move_Attach _to_x =""%2"", _to_y =""%3"", _to_z =""%4""", IL_Script_Inst, _to_x, _to_y, _to_z];
};

_x = _to_x - _from_x;
_y = _to_y - _from_y;
_z = _to_z - _from_z;
if (IL_DevMod) then
{
	Player globalChat Format ["IgiLoad ""%1"". IL_Move_Attach _x =""%2"", _y =""%3"", _z =""%4""", IL_Script_Inst, _x, _y, _z];
};

if (((abs _x) > (abs _y)) && ((abs _x) > (abs _z))) then
{
	_steps = round ((abs _x) / _step);
	if (IL_DevMod) then
	{
		Player globalChat Format ["IgiLoad ""%1"". IL_Move_Attach _x > _y and _z, _steps =""%2""", IL_Script_Inst, _steps];
	};
}
else
{
	if ((abs _y) > (abs _z)) then
	{
		_steps = round ((abs _y) / _step);
		if (IL_DevMod) then
		{
			Player globalChat Format ["IgiLoad ""%1"". IL_Move_Attach _y > _z, _steps =""%2""", IL_Script_Inst, _steps];
		};
	}
	else
	{
		_steps = round ((abs _z) / _step);
		if (IL_DevMod) then
		{
			Player globalChat Format ["IgiLoad ""%1"". IL_Move_Attach _z > _y, _steps =""%2""", IL_Script_Inst, _steps];
		};
	};
};
_i = 0;
_obj AttachTo [_veh, _from];
while {_i < _steps} do
{
	_i = _i + 1;
	_pos = [(((_x / _steps) * _i) + _from_x), (((_y / _steps) * _i) + _from_y), (((_z / _steps) * _i) + _from_z)];
	_obj AttachTo [_veh, _pos];
	if (_turn) then
	{
		[_obj, _veh, -90] call IL_Rotate;
		_turn = false;
	};
	if (IL_DevMod) then
	{
		Player globalChat Format ["IgiLoad ""%1"". IL_Move_Attach _pos =""%2"" [%3]", IL_Script_Inst, _pos, getPos _obj];
	};
	sleep 0.25;
};
_obj AttachTo [_veh, _to];
