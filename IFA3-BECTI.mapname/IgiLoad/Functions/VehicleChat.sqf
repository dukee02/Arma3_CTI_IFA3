private["_v", "_msg", "_mass_info", "_text", "_cargo_mass", "_v_def_mass"];

_v = _this select 0;
_msg = _this select 1;
_mass_info =  if (count _this > 2) then {_this select 2} else {false};
_v vehicleChat _msg;
if (_mass_info && IL_Mass) then
{
	_cargo_mass = 0;
	_v_def_mass = [_v] call IL_GetDefaultMass;
	_cargo_mass = [_v] call IL_GetCargoMass;
	
	_text = Format["<img image='%1' size='2' align='left'/>", getText(configFile >> "cfgVehicles" >> typeOf _v >> "picture")];
	_text = _text + Format ["<t color='#ff0000' size='1.2' shadow='1' shadowColor='#000000' align='center'>%1</t><br/>", getText(configFile >> "cfgVehicles" >> typeOf _v >> "displayName")];
	_text = _text + "<t color='#00aafd' size='1.2' shadow='1' shadowColor='#000000' align='left'>Default mass: </t>";
	_text = _text + Format ["<t color='#ffff00' size='1.2' shadow='1' shadowColor='#000000' align='left'>%1</t><br/>", _v_def_mass];
	_text = _text + "<t color='#00aafd' size='1.2' shadow='1' shadowColor='#000000' align='left'>Cargo   mass: </t>";
	_text = _text + Format ["<t color='#ffff00' size='1.2' shadow='1' shadowColor='#000000' align='left'>%1</t><br/>", _cargo_mass];
	_text = _text + "<t color='#00aafd' size='1.2' shadow='1' shadowColor='#000000' align='left'>Current mass: </t>";
	_text = _text + Format ["<t color='#ffff00' size='1.2' shadow='1' shadowColor='#000000' align='left'>%1</t><br/>", _v_def_mass + _cargo_mass];
};
if (vehicle Player != _v) then
{
	if (_mass_info && IL_Mass) then
	{
		_text = _text + _msg;
		hint parseText (_text);
	}
	else
	{
		Hint Format ["%1", _msg];
	};
}
else
{
	if (_mass_info && IL_Mass) then
	{
		hint parseText (_text);
	};
};
